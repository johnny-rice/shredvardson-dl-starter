{
  "version": 1,
  "areas": [
    {
      "path": "apps/web/src/app/(marketing)",
      "purpose": "Landing copy & CTA",
      "allowed": ["docs:update", "feature:create (copy/UI only)"],
      "avoid": ["auth", "db", "payments"],
      "tags": ["routes", "marketing"]
    },
    {
      "path": "packages/ui",
      "purpose": "Shared UI components",
      "allowed": ["feature:create (small)", "refactor:extract"],
      "avoid": ["color hex literals"],
      "tags": ["ui", "tokens"]
    },
    {
      "path": "apps/web/src/lib/adapters",
      "purpose": "Replaceable vendor boundaries",
      "allowed": ["feature:create (impl only)", "refactor:extract"],
      "avoid": ["leaking vendor types to UI"],
      "tags": ["adapters", "infra"]
    },
    {
      "path": "apps/web/src/lib",
      "purpose": "Env/flags/validate/utils",
      "allowed": ["feature:create (small)", "test:create"],
      "avoid": ["business logic"],
      "tags": ["utils", "infra"]
    },
    {
      "path": "packages/types",
      "purpose": "Shared TypeScript types",
      "allowed": ["feature:create (small)", "refactor:extract"],
      "avoid": ["business logic"],
      "tags": ["types", "shared"]
    },
    {
      "path": "packages/ai",
      "purpose": "AI utilities & prompts",
      "allowed": ["feature:create", "refactor:extract"],
      "avoid": ["direct vendor SDKs"],
      "tags": ["ai", "shared"]
    },
    {
      "path": "packages/config",
      "purpose": "Shared configs (ESLint/Prettier/TS)",
      "allowed": ["feature:create (config only)", "docs:update"],
      "avoid": ["app-specific rules"],
      "tags": ["config", "shared"]
    },
    {
      "path": "docs/llm",
      "purpose": "LLM manuals & manifests",
      "allowed": ["docs:update"],
      "avoid": [],
      "tags": ["docs"]
    },
    {
      "path": "docs/constitution.md",
      "purpose": "Project constitution & AI constraints",
      "allowed": ["docs:update (careful)", "constitutional:update"],
      "avoid": ["breaking existing constraints"],
      "tags": ["docs", "constitution", "ai-guidance"]
    },
    {
      "path": "specs/",
      "purpose": "Feature specifications (what/why only)",
      "allowed": ["spec:create", "spec:update", "clarification:create"],
      "avoid": ["tech details", "implementation specifics"],
      "tags": ["specs", "requirements", "spec-driven"]
    },
    {
      "path": "plans/",
      "purpose": "Technical implementation plans",
      "allowed": ["plan:create", "plan:update", "architecture:define"],
      "avoid": ["breaking constitutional constraints"],
      "tags": ["plans", "architecture", "spec-driven"]
    },
    {
      "path": "tasks/",
      "purpose": "Actionable implementation breakdowns",
      "allowed": ["task:create", "task:update", "progress:track"],
      "avoid": ["skipping TDD order"],
      "tags": ["tasks", "implementation", "spec-driven"]
    },
    {
      "path": ".claude/commands/spec/",
      "purpose": "Spec-driven development commands",
      "allowed": ["command:update", "workflow:improve"],
      "avoid": ["breaking command contracts"],
      "tags": ["commands", "spec-driven", "workflow"]
    },
    {
      "path": "docs/commands/index.json",
      "purpose": "Command discovery and routing for AI agents",
      "allowed": ["command:index", "routing:update", "discovery:update"],
      "avoid": ["breaking command contracts"],
      "tags": ["commands", "discovery", "routing", "ai-guidance"]
    },
    {
      "path": "docs/llm/risk-policy.json",
      "purpose": "Machine-readable MCP tool risk policy and HITL enforcement",
      "allowed": ["policy:read", "risk:assess", "hitl:enforce"],
      "avoid": ["bypassing safety controls"],
      "tags": ["safety", "mcp", "hitl", "risk-assessment", "ai-guidance"]
    },
    {
      "path": ".claude/commands/ops/",
      "purpose": "Phase 6 operational assistant commands",
      "allowed": ["command:update", "automation:update", "workflow:update"],
      "avoid": ["breaking operational contracts"],
      "tags": ["commands", "operational", "automation", "phase-6"]
    },
    {
      "path": "docs/decisions/",
      "purpose": "Architecture Decision Records (ADRs)",
      "allowed": ["adr:create", "adr:update", "governance:document"],
      "avoid": ["breaking constitutional decisions"],
      "tags": ["adr", "governance", "decisions", "architecture"]
    },
    {
      "path": "docs/ai/CLAUDE.md",
      "purpose": "Main AI agent instructions and workflows",
      "allowed": ["workflow:update", "command:create", "instruction:update"],
      "avoid": ["breaking existing workflows"],
      "tags": ["ai-guidance", "workflows", "instructions"]
    }
  ]
}
